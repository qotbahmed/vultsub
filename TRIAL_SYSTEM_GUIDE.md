# ุฏููู ูุธุงู ุงูุชุฌุฑุจุฉ ุงููุฌุงููุฉ - Vult SaaS Platform

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุงูุชุฌุฑุจุฉ ุงููุฌุงููุฉ ูู Vult ูุณูุญ ููุฃูุงุฏูููุงุช ุงูุฑูุงุถูุฉ ุจุชุฌุฑุจุฉ ุงูููุตุฉ ููุฏุฉ 7 ุฃูุงู ูุฌุงูุงู ูุจู ุงูุงุดุชุฑุงู ูู ุฅุญุฏู ุงูุฎุทุท ุงููุฏููุนุฉ.

## ๐ ุชุฏูู ุงูุนูู (Workflow)

### 1. **ูุฑุญูุฉ ุงูุชุณุฌูู**
```
ุงููุณุชุฎุฏู โ ุตูุญุฉ ุงูุชุณุฌูู โ ููุก ุงูุจูุงูุงุช โ ุฅุฑุณุงู ุงูุทูุจ โ ุฅูุดุงุก ุญุณุงุจ ุชุฌุฑูุจู
```

### 2. **ูุฑุญูุฉ ุงููุฑุงุฌุนุฉ**
```
ุงูุทูุจ โ ุฌุฏูู academy_requests โ ูุฑุงุฌุนุฉ ุงูุฅุฏุงุฑุฉ โ ุงูููุงููุฉ/ุงูุฑูุถ
```

### 3. **ูุฑุญูุฉ ุงูุชุฌุฑุจุฉ**
```
ุงูููุงููุฉ โ ุฅูุดุงุก ุฃูุงุฏูููุฉ ูู Portal โ ุชูุนูู ุงูุชุฌุฑุจุฉ โ ุฅุฑุณุงู ุฅูููู ุชุฑุญูุจู
```

### 4. **ูุฑุญูุฉ ุงูุชุฑููุฉ**
```
ุงูุชูุงุก ุงูุชุฌุฑุจุฉ โ ุฅุดุนุงุฑุงุช โ ุตูุญุฉ ุงูุชุฑููุฉ โ ุงูุฏูุน โ ุชูุนูู ุงูุงุดุชุฑุงู
```

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงููุณุชุฎุฏูุฉ

#### 1. **academy_requests** - ุทูุจุงุช ุงูุฃูุงุฏูููุงุช
```sql
CREATE TABLE `academy_requests` (
    `id` int(11) NOT NULL AUTO_INCREMENT,
    `academy_name` varchar(255) NOT NULL,
    `manager_name` varchar(255) NOT NULL,
    `email` varchar(255) NOT NULL,
    `phone` varchar(20) NOT NULL,
    `address` text,
    `city` varchar(100) DEFAULT NULL,
    `branches_count` int(11) DEFAULT 1,
    `sports` text,
    `description` text,
    `status` enum('pending','approved','rejected') DEFAULT 'pending',
    `requested_at` timestamp DEFAULT CURRENT_TIMESTAMP,
    `approved_at` timestamp NULL DEFAULT NULL,
    `rejected_at` timestamp NULL DEFAULT NULL,
    `notes` text,
    `created_by` int(11) DEFAULT NULL,
    `updated_by` int(11) DEFAULT NULL,
    PRIMARY KEY (`id`)
);
```

#### 2. **user** - ุงููุณุชุฎุฏููู (ูุญุฏุซ)
```sql
ALTER TABLE `user` ADD COLUMN `trial_started_at` INT NULL;
ALTER TABLE `user` ADD COLUMN `trial_expires_at` INT NULL;
ALTER TABLE `user` ADD COLUMN `academy_id` INT NULL;
```

#### 3. **academies** - ุงูุฃูุงุฏูููุงุช (ูู Portal)
```sql
-- ูุชู ุฅูุดุงุก ุงูุฃูุงุฏูููุฉ ููุง ุนูุฏ ุงูููุงููุฉ ุนูู ุงูุทูุจ
```

## ๐๏ธ API Endpoints

### 1. **ุจุฏุก ุงูุชุฌุฑุจุฉ**
```
POST /api/trial-management.php?endpoint=start-trial
```

**Request Body:**
```json
{
    "academy_name": "ุฃูุงุฏูููุฉ ุงููุฌูู ุงูุฑูุงุถูุฉ",
    "manager_name": "ุฃุญูุฏ ูุญูุฏ ุงูุนูู",
    "email": "ahmed@stars-sports.com",
    "phone": "+966501234567",
    "address": "ุดุงุฑุน ุงูููู ููุฏุ ุงูุฑูุงุถ",
    "city": "ุงูุฑูุงุถ",
    "branches_count": 3,
    "sports": "ูุฑุฉ ุงููุฏู,ูุฑุฉ ุงูุณูุฉ,ุงูุณุจุงุญุฉ",
    "description": "ุฃูุงุฏูููุฉ ูุชุฎุตุตุฉ ูู ุชุฏุฑูุจ ุงูุดุจุงุจ"
}
```

**Response:**
```json
{
    "success": true,
    "message": "ุชู ุจุฏุก ุงูุชุฌุฑุจุฉ ุงููุฌุงููุฉ ุจูุฌุงุญ",
    "data": {
        "request_id": 1,
        "user_id": 1,
        "trial_start": 1694784000,
        "trial_end": 1695388800,
        "trial_days_left": 7
    }
}
```

### 2. **ูุญุต ุญุงูุฉ ุงูุชุฌุฑุจุฉ**
```
GET /api/trial-management.php?endpoint=trial-status&email=user@example.com
```

**Response:**
```json
{
    "success": true,
    "data": {
        "is_trial_active": true,
        "trial_days_left": 5,
        "trial_start": 1694784000,
        "trial_end": 1695388800,
        "academy_name": "ุฃูุงุฏูููุฉ ุงููุฌูู ุงูุฑูุงุถูุฉ",
        "request_status": "approved"
    }
}
```

### 3. **ุงูููุงููุฉ ุนูู ุงูุฃูุงุฏูููุฉ**
```
POST /api/trial-management.php?endpoint=approve-academy
```

**Request Body:**
```json
{
    "request_id": 1
}
```

**Response:**
```json
{
    "success": true,
    "message": "ุชู ุงูููุงููุฉ ุนูู ุงูุฃูุงุฏูููุฉ ูุฅูุดุงุคูุง ูู ุงููุธุงู",
    "data": {
        "academy_id": 1,
        "academy_name": "ุฃูุงุฏูููุฉ ุงููุฌูู ุงูุฑูุงุถูุฉ"
    }
}
```

## ๏ฟฝ๏ฟฝ ุงูุตูุญุงุช ุงููุชุงุญุฉ

### 1. **ุตูุญุฉ ุงูุชุณุฌูู**
- **URL**: `http://vult-saas.localhost/?subdomain=signup`
- **ุงููุตู**: ุตูุญุฉ ุชุณุฌูู ุงูุฃูุงุฏูููุงุช ุงูุฌุฏูุฏุฉ
- **ุงููููุฒุงุช**:
  - ูููุฐุฌ ุชุณุฌูู ุดุงูู
  - ุงุฎุชูุงุฑ ุงูุฑูุงุถุงุช
  - ุงูุชุญูู ูู ุงูุจูุงูุงุช
  - ุฅุฑุณุงู ุทูุจ ุงูุชุฌุฑุจุฉ

### 2. **ููุญุฉ ุชุญูู ุงูุชุฌุฑุจุฉ**
- **URL**: `http://vult-saas.localhost/trial-dashboard/?email=user@example.com`
- **ุงููุตู**: ููุญุฉ ุชุญูู ููุฃูุงุฏูููุงุช ูู ูุชุฑุฉ ุงูุชุฌุฑุจุฉ
- **ุงููููุฒุงุช**:
  - ุนุฑุถ ุญุงูุฉ ุงูุชุฌุฑุจุฉ
  - ุนุฏุงุฏ ุงูุฃูุงู ุงููุชุจููุฉ
  - ุงููุตูู ูููููุฒุงุช ุงูุฃุณุงุณูุฉ
  - ุฎูุงุฑุงุช ุงูุชุฑููุฉ

### 3. **ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุฃูุงุฏูููุงุช**
- **URL**: `http://vult-saas.localhost/academy-requests/`
- **ุงููุตู**: ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช ูููุฏูุฑูู
- **ุงููููุฒุงุช**:
  - ุนุฑุถ ุฌููุน ุงูุทูุจุงุช
  - ูุฑุงุฌุนุฉ ุงูุจูุงูุงุช
  - ุงูููุงููุฉ/ุงูุฑูุถ
  - ุฅุถุงูุฉ ููุงุญุธุงุช

## โฐ ูุธุงู Cron Jobs

### 1. **ุฅุฏุงุฑุฉ ุงูุชูุงุก ุงูุชุฌุงุฑุจ**
```bash
# ุชุดุบูู ูููู ูู ุงูุณุงุนุฉ 9:00 ุตุจุงุญุงู
0 9 * * * docker-compose exec webserver php /var/www/html/vult-saas/cron/trial-management.php
```

### 2. **ุงูููุงู ุงูููุฌุฒุฉ**
- โ ูุญุต ุงูุชุฌุงุฑุจ ุงูููุชููุฉ ุฎูุงู ููููู
- โ ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ุงูุชุญุฐูุฑ
- โ ุชุนุทูู ุงูุญุณุงุจุงุช ุงูููุชููุฉ
- โ ุชูุธูู ุงูุจูุงูุงุช ุงููุฏููุฉ

## ๐ง ูุธุงู ุงูุฅุดุนุงุฑุงุช

### 1. **ุฅูููู ุงูุชุฑุญูุจ**
```
ุงูููุถูุน: ูุฑุญุจุงู ุจู ูู Vult - ุจุฏุก ุชุฌุฑุจุชู ุงููุฌุงููุฉ
ุงููุญุชูู:
- ุชุฑุญูุจ ุจุงูุฃูุงุฏูููุฉ
- ูุนูููุงุช ุงูุชุฌุฑุจุฉ
- ุฑุงุจุท ููุญุฉ ุงูุชุญูู
- ุชุนูููุงุช ุงูุงุณุชุฎุฏุงู
```

### 2. **ุฅุดุนุงุฑ ุงูุชูุงุก ุงูุชุฌุฑุจุฉ**
```
ุงูููุถูุน: ุชูุจูู: ุชุฌุฑุจุชู ุงููุฌุงููุฉ ุชูุชูู ูุฑูุจุงู
ุงููุญุชูู:
- ุนุฏุฏ ุงูุฃูุงู ุงููุชุจููุฉ
- ุฑุงุจุท ุงูุชุฑููุฉ
- ูููุฒุงุช ุงูุงุดุชุฑุงู
```

### 3. **ุฅุดุนุงุฑ ุงูุชูุงุก ุงูุชุฌุฑุจุฉ**
```
ุงูููุถูุน: ุงูุชูุช ุชุฌุฑุจุชู ุงููุฌุงููุฉ
ุงููุญุชูู:
- ุชุฃููุฏ ุงูุชูุงุก ุงูุชุฌุฑุจุฉ
- ุฑุงุจุท ุงูุชุฑููุฉ
- ุถูุงู ุญูุธ ุงูุจูุงูุงุช
```

## ๐ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### 1. **ุญูุงูุฉ ุงูุจูุงูุงุช**
- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- ุญูุงูุฉ ูู SQL Injection
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- CORS Support

### 2. **ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช**
- ุญูุธ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูู localStorage
- ุงูุชุญูู ูู ุตุญุฉ ุงูุฌูุณุงุช
- ุงูุชูุงุก ุชููุงุฆู ููุฌูุณุงุช

### 3. **ุงููุณุฎ ุงูุงุญุชูุงุทู**
- ูุณุฎ ุงุญุชูุงุทู ูููู ููุจูุงูุงุช
- ุญูุธ ุณุฌูุงุช ุงูุนูููุงุช
- ุงุณุชุฑุฏุงุฏ ุงูุจูุงูุงุช ุนูุฏ ุงูุญุงุฌุฉ

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงููุฑุงูุจุฉ

### 1. **ุฅุญุตุงุฆูุงุช ุงูุชุฌุงุฑุจ**
- ุนุฏุฏ ุงูุทูุจุงุช ุงูุฌุฏูุฏุฉ
- ูุนุฏู ุงูุชุญููู ููุงุดุชุฑุงู
- ูุชูุณุท ูุฏุฉ ุงูุชุฌุฑุจุฉ
- ุฃุณุจุงุจ ุงูุฑูุถ

### 2. **ูุฑุงูุจุฉ ุงูุฃุฏุงุก**
- ููุช ุงูุงุณุชุฌุงุจุฉ
- ูุนุฏู ุงูุฃุฎุทุงุก
- ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ
- ุณุฌูุงุช ุงููุธุงู

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### 1. **ูููุฒุงุช ูุงุฏูุฉ**
- [ ] ูุธุงู ุงูุฏูุน ุงูุฅููุชุฑููู
- [ ] ุชุฎุตูุต ูุชุฑุฉ ุงูุชุฌุฑุจุฉ
- [ ] ุฅุดุนุงุฑุงุช push
- [ ] ุชุทุจูู ููุจุงูู ููุชุฌุฑุจุฉ

### 2. **ุชุญุณููุงุช**
- [ ] ุชุญุณูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
- [ ] ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุฑูุงุถุงุช
- [ ] ูุธุงู ุงูุชููููุงุช
- [ ] ุฏุนู ูุชุนุฏุฏ ุงููุบุงุช

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### 1. **ูุดุงูู ุดุงุฆุนุฉ**

#### ุฎุทุฃ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุงูุญู: ุชุฃูุฏ ูู ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
docker-compose ps
docker-compose restart database
```

#### ุฎุทุฃ ูู API
```bash
# ุงูุญู: ุชุญูู ูู logs
docker-compose logs webserver
```

#### ูุดููุฉ ูู ุงูุฅููููุงุช
```bash
# ุงูุญู: ุชุญูู ูู ุฅุนุฏุงุฏุงุช SMTP
# ุฃู ุงุณุชุฎุฏู ูุธุงู ุฅูููู ุฎุงุฑุฌู
```

### 2. **ุฃุฏูุงุช ุงูุชุดุฎูุต**
```bash
# ูุญุต ุญุงูุฉ ุงููุธุงู
./stats.sh

# ุชุดุบูู migration
docker-compose exec webserver php /var/www/html/vult-saas/run_migrations.php

# ุชุดุบูู cron job ูุฏููุงู
docker-compose exec webserver php /var/www/html/vult-saas/cron/trial-management.php
```

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ูููุทูุฑูู
- **GitHub**: [ุฑุงุจุท ุงููุณุชูุฏุน]
- **Documentation**: README.md
- **API Docs**: ูู ุงูููุฏ

### ูููุณุชุฎุฏููู
- **ุงูุฏุนู ุงูููู**: support@vult.com
- **ุงููุงุชู**: +966 50 123 4567
- **ุงููููุน**: https://vult.com

---

**Vult SaaS Platform** - ูุธุงู ุชุฌุฑุจุฉ ูุฌุงููุฉ ูุชุทูุฑ ููุฃูุงุฏูููุงุช ุงูุฑูุงุถูุฉ ๐

*ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ ูุฑูู Vult - 2024*
